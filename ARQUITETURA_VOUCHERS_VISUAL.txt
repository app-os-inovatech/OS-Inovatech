```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  âœ… SISTEMA DE VOUCHERS IMPLEMENTADO                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ ARQUITETURA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚   ADMIN                              TÃ‰CNICO                               â”‚
â”‚   â”œâ”€ AdminDashboard                  â”œâ”€ TecnicoDashboard                  â”‚
â”‚   â”‚  â””â”€ ğŸ“„ Documentos de Viagem      â”‚  â””â”€ ğŸ“‚ Documentos de Viagem        â”‚
â”‚   â”‚     â””â”€ AdminVouchers.js           â”‚     â””â”€ TecnicoVouchers.js         â”‚
â”‚   â”‚        â”œâ”€ Upload Form             â”‚        â”œâ”€ List View               â”‚
â”‚   â”‚        â”œâ”€ Manage All              â”‚        â””â”€ View Only               â”‚
â”‚   â”‚        â””â”€ Table                   â”‚                                   â”‚
â”‚   â”‚                                   â”‚                                   â”‚
â”‚   â””â”€ API: /api/admin/vouchers        â””â”€ API: /api/vouchers              â”‚
â”‚      (POST, GET, DELETE)                (GET only - filtered)            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ DATABASE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  vouchers table                                                             â”‚
â”‚  â”œâ”€ id (PK)                                                                 â”‚
â”‚  â”œâ”€ usuario_id (FK â†’ usuarios.id) [TÃ©cnico que recebe]                   â”‚
â”‚  â”œâ”€ loja_id (FK â†’ lojas.id)                                               â”‚
â”‚  â”œâ”€ descricao (VARCHAR 255) - "Ticket AÃ©reo", "Hospedagem", etc         â”‚
â”‚  â”œâ”€ arquivo (VARCHAR 255) - Caminho do arquivo                            â”‚
â”‚  â”œâ”€ arquivo_nome (VARCHAR 255) - Nome original do arquivo                â”‚
â”‚  â”œâ”€ created_at (TIMESTAMP)                                                â”‚
â”‚  â””â”€ updated_at (TIMESTAMP)                                                â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ ENDPOINTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  ADMIN ROUTES:                    TÃ‰CNICO ROUTES:                         â”‚
â”‚  â”œâ”€ GET /api/admin/vouchers       â”œâ”€ GET /api/vouchers                  â”‚
â”‚  â”‚  â””â”€ List all (sem filtro)      â”‚  â””â”€ List only mine (filtered)       â”‚
â”‚  â”‚                                â”‚                                       â”‚
â”‚  â”œâ”€ POST /api/admin/vouchers      â””â”€ Sem upload/delete                  â”‚
â”‚  â”‚  â””â”€ Upload + assign to tech                                            â”‚
â”‚  â”‚                                                                         â”‚
â”‚  â””â”€ DELETE /api/admin/vouchers/:id                                        â”‚
â”‚     â””â”€ Delete (removes file + DB record)                                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ FILE STRUCTURE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  Frontend:                         Backend:                               â”‚
â”‚  â”œâ”€ components/Admin/              â”œâ”€ routes/                            â”‚
â”‚  â”‚  â”œâ”€ AdminVouchers.js (âœ¨ NEW)   â”‚  â”œâ”€ admin-vouchers.js (âœ¨ NEW)    â”‚
â”‚  â”‚  â”œâ”€ AdminVouchers.css (âœ¨ NEW)  â”‚  â”œâ”€ vouchers.js (tÃ©cnico)          â”‚
â”‚  â”‚  â””â”€ AdminDashboard.js (mod)     â”‚  â””â”€ server.js (mod)                â”‚
â”‚  â”‚                                â”‚                                       â”‚
â”‚  â”œâ”€ components/Technician/        â”œâ”€ scripts/                           â”‚
â”‚  â”‚  â”œâ”€ TecnicoVouchers.js (mod)    â”‚  â”œâ”€ create-vouchers-table.js       â”‚
â”‚  â”‚  â”œâ”€ TecnicoVouchers.css (mod)   â”‚  â””â”€ create-categorias-despesa.js  â”‚
â”‚  â”‚  â””â”€ TecnicoDashboard.js (mod)   â”‚                                     â”‚
â”‚  â”‚                                â”‚                                       â”‚
â”‚  â”œâ”€ App.js (mod)                  â”œâ”€ uploads/                           â”‚
â”‚  â”‚                                â”‚  â””â”€ vouchers/ (auto-created)        â”‚
â”‚  â””â”€ config/api.js (unchanged)     â”‚                                     â”‚
â”‚                                   â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ FLUXO COMPLETO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  ADMIN:                           TÃ‰CNICO:                                â”‚
â”‚  1. Login â†’ Admin Dashboard       1. Login â†’ Tech Dashboard             â”‚
â”‚  2. Click "Documentos de Viagem"  2. Click "Documentos de Viagem"       â”‚
â”‚  3. AdminVouchers loads           3. TecnicoVouchers loads              â”‚
â”‚  4. Fill form:                    4. Views documents list:               â”‚
â”‚     - Select technician              - DescriÃ§Ã£o                         â”‚
â”‚     - DescriÃ§Ã£o (Ticket AÃ©reo)       - Arquivo_nome                     â”‚
â”‚     - Select file                    - Data                             â”‚
â”‚  5. Click "Salvar" button         5. Click ğŸ‘ï¸ "Visualizar" button      â”‚
â”‚  6. POST /api/admin/vouchers      6. Opens file in new tab              â”‚
â”‚  7. File uploaded to server       7. Can read document                   â”‚
â”‚  8. DB record created             8. No upload/delete options           â”‚
â”‚  9. Sees in table                                                         â”‚
â”‚  10. Can delete or view                                                   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ SEGURANÃ‡A â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  âœ… JWT Authentication on all endpoints                                   â”‚
â”‚  âœ… Role-based access (admin vs tÃ©cnico)                                  â”‚
â”‚  âœ… TÃ©cnico sees only his own documents (usuario_id filter)               â”‚
â”‚  âœ… Admin sees all documents                                               â”‚
â”‚  âœ… File type validation (PDF, JPG, PNG, DOC, DOCX)                       â”‚
â”‚  âœ… File size limit (10MB)                                                â”‚
â”‚  âœ… File deletion from server on DB delete                                â”‚
â”‚  âœ… Foreign key constraints with CASCADE delete                            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€ RESPONSIVIDADE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                             â”‚
â”‚  Desktop (1200px+):                                                        â”‚
â”‚  â””â”€ Full AdminVouchers with table                                          â”‚
â”‚                                                                             â”‚
â”‚  Tablet (768px - 1199px):                                                 â”‚
â”‚  â””â”€ Form in columns, table with font size reduced                          â”‚
â”‚                                                                             â”‚
â”‚  Mobile (< 768px):                                                         â”‚
â”‚  â””â”€ Form stacked, table scrollable, buttons adapted                        â”‚
â”‚                                                                             â”‚
â”‚  Extra Mobile (< 480px):                                                   â”‚
â”‚  â””â”€ Tiny font, minimal padding, touch-friendly                             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  STATUS: âœ… PRONTO PARA USAR                                              â•‘
â•‘  Created: 2024                                                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```
